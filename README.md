# Linux-Setup

é€™æ˜¯ä¸€å€‹ç”¨æ–¼å¿«é€Ÿè¨­å®šå’Œé…ç½® Debian/Ubuntu ç³»çµ±çš„è…³æœ¬é›†åˆï¼Œæ¶µè“‹ç”¨æˆ¶ç®¡ç†ã€å®‰å…¨é…ç½®ã€æœå‹™å®‰è£èˆ‡æ™‚é–“åŒæ­¥ç­‰å¸¸è¦‹ä»»å‹™ã€‚

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
Linux-Setup/
â”œâ”€â”€ Debian.sh                   # Debian/Ubuntu ä¸€éµåŸºç¤è¨­å®šï¼ˆä½¿ç”¨è€…ã€SSHã€UFWã€æ™‚é–“åŒæ­¥ï¼‰
â”œâ”€â”€ docker.sh                   # Docker èˆ‡ Docker Compose å®‰è£
â”œâ”€â”€ sshd_secure_setup.sh        # å–®ç¨çš„ SSH å®‰å…¨é…ç½®
â”œâ”€â”€ ufw_secure_setup.sh         # UFW é˜²ç«ç‰†è¨­å®šèˆ‡ ICMP ä¸Ÿæ£„
â”œâ”€â”€ timedatectl-Debian12.sh     # Debian 12/13 æ™‚é–“åŒæ­¥è¨­å®š
â”œâ”€â”€ timedatectl-Ubuntu24.02.sh  # Ubuntu 24.02+ æ™‚é–“åŒæ­¥è¨­å®š
â”œâ”€â”€ sudoer.sh                   # å»ºç«‹å…· sudo æ¬Šé™çš„ä½¿ç”¨è€…
â”œâ”€â”€ cloudflared.sh              # å®‰è£ Cloudflare Tunnel (cloudflared)
â””â”€â”€ README.md                   # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
```

## ğŸš€ åŠŸèƒ½ç‰¹è‰²

### 1. Debian/Ubuntu åŸºç¤è¨­å®š (`Debian.sh`)
- ç³»çµ±æ›´æ–°ã€å®‰è£ sudo/wget/curl
- å»ºç«‹æ–°ä½¿ç”¨è€…ä¸¦åŠ å…¥ sudo ç¾¤çµ„
- SSH å®‰å…¨è¨­å®šï¼šè‡ªè¨‚é€£æ¥åŸ ã€å…è¨±/ç¦æ­¢ root ç™»å…¥ï¼Œä¸¦å‚™ä»½åŸè¨­å®š
- UFW é˜²ç«ç‰†ï¼šé è¨­æ‹’çµ•å…¥ç«™ã€æ”¾è¡Œå‡ºç«™ï¼Œè‡ªè¨‚ SSH é€£æ¥åŸ ï¼Œå¯é¸æ“‡é–‹æ”¾ 80/443ï¼ŒICMP ä¸Ÿæ£„
- æ™‚é–“åŒæ­¥ï¼šè¨­å®š Asia/Taipeiã€æŒ‡å®šå°ç£ NTPã€å¯«å…¥ç¡¬é«”æ™‚é˜
- ä¸å†å®‰è£ Tell_Meï¼ˆå·²ç§»é™¤ç›¸é—œè…³æœ¬ï¼‰

### 2. Docker å®‰è£ (`docker.sh`)
- æ›´æ–°ç³»çµ±ä¸¦å®‰è£ wget
- ä½¿ç”¨å®˜æ–¹å®‰è£è…³æœ¬éƒ¨ç½² Docker
- å®‰è£ Docker Compose 1.29.2 ç‰ˆä¸¦è³¦äºˆåŸ·è¡Œæ¬Šé™
- å•Ÿç”¨ Docker é–‹æ©Ÿè‡ªå‹•å•Ÿå‹•

### 3. å–®ç¨ SSH å®‰å…¨é…ç½® (`sshd_secure_setup.sh`)
- å‚™ä»½ sshd_config
- è‡ªè¨‚ SSH é€£æ¥åŸ èˆ‡ root ç™»å…¥ç­–ç•¥
- é‡æ–°å•Ÿå‹• SSH æœå‹™

### 4. UFW é˜²ç«ç‰†è¨­å®š (`ufw_secure_setup.sh`)
- å‚™ä»½ sshd_config èˆ‡ UFW before.rules
- è‡ªè¨‚ SSH é€£æ¥åŸ ï¼Œé¸æ“‡æ€§é–‹æ”¾ 80/443
- é è¨­æ‹’çµ•å…¥ç«™ã€å…è¨±å‡ºç«™ï¼Œå•Ÿç”¨ UFW
- ä¿®æ”¹ ICMP è¦å‰‡ç‚º DROP

### 5. æ™‚é–“åŒæ­¥è¨­å®š
- **Debian 12/13**ï¼š`timedatectl-Debian12.sh`
- **Ubuntu 24.02+**ï¼š`timedatectl-Ubuntu24.02.sh`
- åŠŸèƒ½ï¼šè¨­å®šå°ç£æ™‚å€ã€å®‰è£ systemd-timesyncd/util-linux-extraã€æŒ‡å®šå°ç£ NTPï¼Œå¯«å…¥ç¡¬é«”æ™‚é˜

### 6. sudo ä½¿ç”¨è€…è¨­å®š (`sudoer.sh`)
- å»ºç«‹æ–°å¸³è™Ÿä¸¦åŠ å…¥ sudo ç¾¤çµ„
- è¨­å®šæ–°ä½¿ç”¨è€…å¯†ç¢¼

### 7. Cloudflare Tunnel (`cloudflared.sh`)
- æ–°å¢ Cloudflare è»Ÿé«”æºä¸¦å®‰è£ cloudflared

## ğŸ“‹ ä½¿ç”¨å‰æº–å‚™

### ç³»çµ±éœ€æ±‚
- Debian 12/13 æˆ– Ubuntu 24.02+ ç³»çµ±
- Root æ¬Šé™æˆ– sudo æ¬Šé™
- å¯é€£ç¶²

### æ¬Šé™è¦æ±‚
- å¤§å¤šæ•¸è…³æœ¬éœ€ root åŸ·è¡Œï¼›è‹¥ä»¥ sudo åŸ·è¡Œè«‹ç¢ºä¿æœ‰å¯†ç¢¼

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### ğŸš€ æ¨è–¦ï¼šä¸€éµåŸºç¤è¨­å®š
```bash
chmod +x Debian.sh
sudo ./Debian.sh
```
åŸ·è¡Œéç¨‹æœƒäº’å‹•è©¢å•ï¼š
- SSH é€£æ¥åŸ ï¼ˆé è¨­ 55555ï¼‰
- æ˜¯å¦å…è¨± root ç™»å…¥ï¼ˆé è¨­ noï¼‰
- æ˜¯å¦é–‹æ”¾ 80/443ï¼ˆé è¨­å¦ï¼‰
- æ–°ä½¿ç”¨è€…å¸³è™Ÿï¼ˆé è¨­ albertï¼‰èˆ‡å¯†ç¢¼

### ğŸ“‹ å€‹åˆ¥è…³æœ¬ä½¿ç”¨
```bash
# Docker å®‰è£
chmod +x docker.sh
sudo ./docker.sh

# åªé…ç½® SSH
chmod +x sshd_secure_setup.sh
sudo ./sshd_secure_setup.sh

# åªé…ç½®é˜²ç«ç‰† (å« ICMP DROP)
chmod +x ufw_secure_setup.sh
sudo ./ufw_secure_setup.sh

# Debian 12/13 æ™‚é–“åŒæ­¥
chmod +x timedatectl-Debian12.sh
sudo ./timedatectl-Debian12.sh

# Ubuntu 24.02+ æ™‚é–“åŒæ­¥
chmod +x timedatectl-Ubuntu24.02.sh
sudo ./timedatectl-Ubuntu24.02.sh

# å»ºç«‹ sudo ä½¿ç”¨è€…
chmod +x sudoer.sh
sudo ./sudoer.sh

# å®‰è£ cloudflared
chmod +x cloudflared.sh
sudo ./cloudflared.sh
```

## âš ï¸ é‡è¦æ³¨æ„äº‹é …

### å®‰å…¨æé†’
1. **SSH é€£æ¥åŸ è®Šæ›´**ï¼š`Debian.sh`ã€`sshd_secure_setup.sh`ã€`ufw_secure_setup.sh` æœƒä¿®æ”¹ SSH é€£æ¥åŸ ï¼Œè«‹è¨˜ä¸‹æ–°åŸ è™Ÿã€‚
2. **é˜²ç«ç‰†å•Ÿç”¨**ï¼š`Debian.sh` èˆ‡ `ufw_secure_setup.sh` æœƒå•Ÿç”¨ UFWï¼ŒåŸ·è¡Œå‰è«‹ç¢ºèªéœ€è¦æ”¾è¡Œçš„é€£æ¥åŸ ã€‚
3. **ICMP è¢«ä¸Ÿæ£„**ï¼šé˜²ç«ç‰†è…³æœ¬æœƒå°‡ ICMP è¨­ç‚º DROPï¼Œæ©Ÿå™¨å°‡ç„¡æ³•è¢« ping åˆ°ã€‚
4. **å‚™ä»½æª”æ¡ˆ**ï¼šsshd_config èˆ‡ UFW before.rules æœƒè‡ªå‹•å‚™ä»½æ–¼åŒç›®éŒ„ä¸¦é™„åŠ æ™‚é–“æˆ³ã€‚

### åŸ·è¡Œé †åºå»ºè­°
1. åˆæ¬¡å®‰è£ï¼š`Debian.sh` ä¸€æ¬¡å®ŒæˆåŸºç¤å®‰å…¨èˆ‡æ™‚é–“è¨­å®šã€‚
2. éœ€è¦åˆ†æ­¥ï¼šä¾éœ€æ±‚åˆ†åˆ¥åŸ·è¡Œ SSHã€é˜²ç«ç‰†ã€æ™‚é–“åŒæ­¥æˆ– Docker è…³æœ¬ã€‚

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ
1. **æ¬Šé™éŒ¯èª¤**ï¼šç¢ºä¿ä»¥ root æ¬Šé™åŸ·è¡Œè…³æœ¬
2. **ç¶²è·¯é€£æ¥å•é¡Œ**ï¼šæª¢æŸ¥ç¶²è·¯è¨­å®šå’Œé˜²ç«ç‰†è¦å‰‡
3. **æœå‹™å•Ÿå‹•å¤±æ•—**ï¼šæª¢æŸ¥ systemd æœå‹™ç‹€æ…‹

### æª¢æŸ¥æœå‹™ç‹€æ…‹
```bash
# æª¢æŸ¥ SSH æœå‹™
sudo systemctl status ssh

# æª¢æŸ¥ Docker æœå‹™
sudo systemctl status docker

# æª¢æŸ¥é˜²ç«ç‰†ç‹€æ…‹
sudo ufw status

# æª¢æŸ¥æ™‚é–“åŒæ­¥æœå‹™
sudo systemctl status systemd-timesyncd
sudo timedatectl status
```

## ğŸ“ ç‰ˆæœ¬è³‡è¨Š

- **ç‰ˆæœ¬**ï¼š3.1.1
- **æœ€å¾Œæ›´æ–°**ï¼š2025å¹´12æœˆ11æ—¥
- **æ”¯æ´ç³»çµ±**ï¼šDebian 12/13ã€Ubuntu 24.02+
- **ä¸»è¦æ›´æ–°**ï¼š
  - å¾¹åº•ç§»é™¤ Tell_Me ç›¸é—œå®‰è£èˆ‡èªªæ˜
  - å¢è£œ cloudflared å®‰è£è…³æœ¬èªªæ˜
  - æ¢³ç†äº’å‹•å¼è¼¸å…¥èˆ‡å®‰å…¨æ³¨æ„äº‹é …

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Request ä¾†æ”¹å–„é€™å€‹å°ˆæ¡ˆã€‚

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ã€‚

---

**âš ï¸ é‡è¦æé†’**ï¼šé€™äº›è…³æœ¬æœƒä¿®æ”¹ç³»çµ±é‡è¦è¨­å®šï¼Œè«‹åœ¨æ¸¬è©¦ç’°å¢ƒä¸­å…ˆé€²è¡Œæ¸¬è©¦ï¼Œä¸¦ç¢ºä¿äº†è§£æ¯å€‹è…³æœ¬çš„åŠŸèƒ½å¾Œå†åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­ä½¿ç”¨ã€‚
